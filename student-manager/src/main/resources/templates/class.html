<!DOCTYPE html>
<html lang="en">

<head>
  <th:block th:insert="components/head"></th:block>
</head>

<body id="page-top">
  <header th:insert="components/header"></header>

  <div class="boxbox-top">
    <p>Your classrooms</p>
  </div>

  <div class="boxbox">

    <div class="row">
      <div class="col-md-4" th:insert="components/searchbox :: box"></div>
      <div class="col-md-4"
        th:with="ph='Create new classroom', name='name', action='/class/create', class='bx bx-search'"
        th:insert="components/searchbox :: form"></div>
      <div class="col-md-4"
        th:with="ph='Join classroom', name='inviteCode', action='/class/join', class='bx bx-search'"
        th:insert="components/searchbox :: form"></div>
    </div>
    <div class="text-center">
      <p class="text-danger" th:text="${error}"></p>
    </div>

    <th:block th:each="ctPair: ${classes}" th:with="classroom=${ctPair.key}, teachers=${ctPair.value}">
      <div class="product-card">
        <a class="text-danger text-decoration-none" th:href="|./class/${classroom.id}/homework|">
          <div class="product-tumb">
            <img th:src="${classroom.coverURL} ?: @{/img/class_cover.png}" alt="class cover image">
          </div>
          <div class="product-details">
            <h3 th:text="${classroom.name}"></h3>
            <!-- icon -->
            <div style="text-align: center" class="small-4 medium-4 large-4 columns">
              <h4><i class="bi bi-box-arrow-in-right"></i></h4>
            </div>
            <div class="product-bottom-details">
              <p>Teacher:</p>
              <p class="m-0" th:each="teacher: ${teachers}" th:text="|- ${teacher.fullName}|"></p>
            </div>
          </div>
        </a>
      </div>
    </th:block>

  </div>

  <!-- Scroll to Top Button-->
  <a class="scroll-to-top rounded" href="#page-top"><i class="fas fa-angle-up"></i></a>

  <footer th:insert="components/footer"></footer>
  <div th:insert="components/script"></div>
</body>

</html>