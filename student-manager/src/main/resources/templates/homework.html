<!DOCTYPE html>
<html lang="en">

<head>
  <title th:text="${classMember.classroom.name}"></title>
  <th:block th:insert="components/head"></th:block>
</head>

<body>
  <header th:insert="components/header"></header>

  <div class="container mt-5">

    <div th:replace="components/classCover"></div>

    <th:block th:each="hsPair: ${homeworks}" th:with="homework=${hsPair.key}, submission=${hsPair.value}">
      <th:block th:switch="${classMember.role}">
        <th:block th:case="TEACHER">
          <div th:replace="components/homeworkCard :: teacher"></div>
        </th:block>
        <th:block th:case="STUDENT">
          <th:block th:switch="submission">
            <th:block th:case="null">
              <div th:replace="components/homeworkCard :: not-submitted"></div>
            </th:block>
            <th:block th:case="*">
              <div th:replace="components/homeworkCard :: submitted"></div>
            </th:block>
          </th:block>
        </th:block>
      </th:block>
    </th:block>
  </div>

  <p hidden id="error" th:text="${error}"></p>
  <script>
    var error = document.getElementById('error').innerText;
    if (error) {
      alert(error);
    }
  </script>

  <footer th:insert="components/footer"></footer>
  <div th:insert="components/script"></div>
</body>

</html>